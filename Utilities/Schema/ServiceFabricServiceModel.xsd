<?xml version="1.0" encoding="UTF-8"?>
<!-- edited with XMLSpy v2011 (x64) (http://www.altova.com) by MICROSOFT CORPORATION (MICROSOFT CORPORATION) -->
<!-- WARNING: Any Updates to the model must update both native and managed ServiceModel in the code. -->
<xs:schema xmlns="http://schemas.microsoft.com/2011/01/fabric" xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="http://schemas.microsoft.com/2011/01/fabric" elementFormDefault="qualified" attributeFormDefault="unqualified">
	<xs:annotation>
		<xs:documentation>Windows Fabric Service Model. Version: V1_RTM_3 [MajorVersion_Milestone_ChangeNo]</xs:documentation>
	</xs:annotation>
	<!-- Copyright (c) Microsoft Corporation. All rights reserved.-->
	<xs:element name="ClusterManifest" type="ClusterManifestType">
		<xs:annotation>
			<xs:documentation>Describes a Windows Fabric Cluster.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:element name="ApplicationManifest" type="ApplicationManifestType">
		<xs:annotation>
			<xs:documentation>Describes a manifest for an application type that can be instantiated in a Windows Fabric cluster. The manifest allows use of parameters to customize application instances for a particular cluster.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:element name="ServiceManifest" type="ServiceManifestType">
		<xs:annotation>
			<xs:documentation>Manifest of a packaged Windows Fabric service. A Service Manifest is a unit of deployment and activation. It consists of independently upgradable units of code, configuration and data.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:element name="Settings" type="SettingsType">
		<xs:annotation>
			<xs:documentation>Defiles configurable settings for the code packages of a service. Windows Fabric does not interpret the settings, however it makes them available via Runtime APIs for use by the code components.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:element name="InfrastructureInformation" type="InfrastructureInformationType">
		<xs:annotation>
			<xs:documentation>Describes the infrastructure on which fabric needs to run.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:element name="TargetInformation" type="TargetInformationType">
		<xs:annotation>
			<xs:documentation>Describes the target the FabricDeployer needs to deploy.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<!-- ****** Types used by ClusterManifest *****-->
	<xs:complexType name="ClusterManifestType">
		<xs:annotation>
			<xs:documentation>Describes a Windows Fabric Cluster.</xs:documentation>
		</xs:annotation>
		<xs:all>
			<xs:element name="NodeTypes" minOccurs="1">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="NodeType" maxOccurs="unbounded">
							<xs:annotation>
								<xs:documentation>Describe a node type.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:all>
									<xs:element name="Endpoints" type="FabricEndpointsType" minOccurs="0">
										<xs:annotation>
											<xs:documentation>Describe the endpoints associated with this node type</xs:documentation>
										</xs:annotation>
									</xs:element>
									<xs:element name="Certificates" type="CertificatesType" minOccurs="0">
										<xs:annotation>
											<xs:documentation>Describe the certificates associated with this node type</xs:documentation>
										</xs:annotation>
									</xs:element>
									<xs:element name="PlacementProperties" minOccurs="0">
										<xs:annotation>
											<xs:documentation>Describe the properties for this NodeType that will be used as placement constraints</xs:documentation>
										</xs:annotation>
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Property" type="KeyValuePairType" minOccurs="0" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
									<xs:element name="Capacities" minOccurs="0">
										<xs:annotation>
											<xs:documentation>The capacities of various metrics for this node type</xs:documentation>
										</xs:annotation>
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Capacity" type="KeyValuePairType" minOccurs="0" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
								</xs:all>
								<xs:attribute name="Name" type="xs:string" use="required">
									<xs:annotation>
										<xs:documentation>Name of the NodeType</xs:documentation>
									</xs:annotation>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="Infrastructure">
				<xs:complexType>
					<xs:choice>
						<xs:element name="WindowsServer">
							<xs:complexType>
								<xs:complexContent>
									<xs:extension base="WindowsInfrastructureType">
										<xs:attribute name="IsScaleMin" type="xs:boolean" default="false"/>
									</xs:extension>
								</xs:complexContent>
							</xs:complexType>
						</xs:element>
						<xs:element name="WindowsAzure">
							<xs:complexType>
								<xs:sequence>
									<xs:element name="Roles">
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Role" type="AzureRoleType" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="WindowsAzureStaticTopology">
							<xs:complexType>
								<xs:complexContent>
									<xs:extension base="WindowsInfrastructureType"/>
								</xs:complexContent>
							</xs:complexType>
						</xs:element>
						<xs:element name="Blackbird">
							<xs:complexType>
								<xs:sequence>
									<xs:element name="Roles">
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Role" type="BlackbirdRoleType" minOccurs="1" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="VMM">
							<xs:complexType>
								<xs:sequence>
									<xs:element name="Tiers">
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Tier" type="VMMTierType" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="PaaS">
							<xs:complexType>
								<xs:all>
									<xs:element name="Roles">
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Role" type="PaaSRoleType" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
									<xs:element name="Votes">
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Vote" type="PaaSVoteType" maxOccurs="unbounded"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
								</xs:all>
							</xs:complexType>
						</xs:element>
					</xs:choice>
				</xs:complexType>
			</xs:element>
			<xs:element name="FabricSettings" type="SettingsOverridesType" minOccurs="0"/>
			<xs:element name="Certificates" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="SecretsCertificate" type="FabricCertificateType" minOccurs="0"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:all>
		<xs:attribute name="Name" use="required">
			<xs:annotation>
				<xs:documentation>Name of the Cluster.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="Version" use="required">
			<xs:annotation>
				<xs:documentation>User defined version string for the cluster manifest document.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="Description">
			<xs:annotation>
				<xs:documentation>Description for the Cluster Manifest.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="WindowsInfrastructureType">
		<xs:sequence>
			<xs:element name="NodeList">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Node" type="FabricNodeType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="FabricCertificateType">
		<xs:annotation>
			<xs:documentation>This is Used only when credential is X509. This specifies the certificate information.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="X509StoreName" type="xs:string" default="My">
			<xs:annotation>
				<xs:documentation>This is Used only when credential is X509. This specifies the certificate StoreName.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="X509FindType" default="FindByThumbprint">
			<xs:annotation>
				<xs:documentation>This is Used only when credential is X509. This specifies how to find the certificate whether by the name or the thumbprint </xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="FindByThumbprint"/>
					<xs:enumeration value="FindBySubjectName"/>
					<xs:enumeration value="FindByExtension"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="X509FindValue" use="required">
			<xs:annotation>
				<xs:documentation>This is Used only when credential is X509. This is the actual name or thumbprint of the certificate.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="X509FindValueSecondary" use="optional" default="">
			<xs:annotation>
				<xs:documentation>This is Used only when credential is X509. This is the actual name or thumbprint of the certificate.</xs:documentation>
			</xs:annotation>
		</xs:attribute>        
		<xs:attribute name="Name" type="xs:string" use="optional"/>
	</xs:complexType>
	<xs:complexType name="FabricNodeType">
		<xs:annotation>
			<xs:documentation>Describes a Windows Fabric Node.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="NodeName" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>The name of the node instance.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="IPAddressOrFQDN" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>The IP address or the FQDN of the machine on which to place this node.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="IsSeedNode" type="xs:boolean" default="false">
			<xs:annotation>
				<xs:documentation>A flag indicating whether or not this node is a seed node.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="NodeTypeRef" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>Name of the nodetype defined in the NodeTypes section. </xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="FaultDomain" type="xs:anyURI" use="optional">
			<xs:annotation>
				<xs:documentation>
          The fault domain of this node.
        </xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="UpgradeDomain" type="xs:anyURI" use="optional">
			<xs:annotation>
				<xs:documentation>
          The upgrade domain of this node.
        </xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="FabricEndpointsType">
		<xs:all>
			<xs:element name="ClientConnectionEndpoint" type="InputEndpointType"/>
			<xs:element name="LeaseDriverEndpoint" type="InternalEndpointType"/>
			<xs:element name="ClusterConnectionEndpoint" type="InternalEndpointType"/>
			<xs:element name="HttpGatewayEndpoint" type="InputEndpointType" minOccurs="0"/>
			<xs:element name="ServiceConnectionEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="ClusterManagerReplicatorEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="RepairManagerReplicatorEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="NamingReplicatorEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="FailoverManagerReplicatorEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="ImageStoreServiceReplicatorEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="DefaultReplicatorEndpoint" type="InternalEndpointType" minOccurs="0"/>
			<xs:element name="ApplicationEndpoints" minOccurs="0">
				<xs:complexType>
					<xs:attribute name="StartPort" type="xs:int" use="required"/>
					<xs:attribute name="EndPort" type="xs:int" use="required"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="EphemeralEndpoints" minOccurs="0">
				<xs:complexType>
					<xs:attribute name="StartPort" type="xs:int" use="required"/>
					<xs:attribute name="EndPort" type="xs:int" use="required"/>
				</xs:complexType>
			</xs:element>
		</xs:all>
	</xs:complexType>
	<xs:complexType name="KeyValuePairType">
		<xs:attributeGroup ref="NameValuePair"/>
	</xs:complexType>
	<xs:complexType name="InternalEndpointType">
		<xs:attribute name="Port" type="xs:positiveInteger" use="required"/>
		<xs:attribute name="Protocol" use="optional" default="tcp">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="http"/>
					<xs:enumeration value="https"/>
					<xs:enumeration value="tcp"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="InputEndpointType">
		<xs:attribute name="Port" type="xs:positiveInteger" use="required"/>
		<xs:attribute name="Protocol" use="optional" default="tcp">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="http"/>
					<xs:enumeration value="https"/>
					<xs:enumeration value="tcp"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<!-- ****** Types used by Application Manifest *****-->
	<xs:complexType name="ApplicationManifestType">
		<xs:annotation>
			<xs:documentation>Describes a manifest for an application type that can be instantiated in a Windows Fabric cluster. The manifest allows use of parameters to customize application instances for a particular cluster.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Description" type="xs:string" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Text describing this application.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="Parameters" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Declares the parameters that are used in this application manifests. The value of these parameters can be supplied at the time of creating instances of this application.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Parameter" block="" minOccurs="0" maxOccurs="unbounded">
							<xs:complexType>
								<xs:attribute name="Name" use="required">
									<xs:annotation>
										<xs:documentation>Name of the parameter that can be used in the manifest as "[Name]" to delay bind the value at application creation time.</xs:documentation>
									</xs:annotation>
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:minLength value="1"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
								<xs:attribute name="DefaultValue" type="xs:string" use="required">
									<xs:annotation>
										<xs:documentation>Default value for the parameter.</xs:documentation>
									</xs:annotation>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="ServiceManifestImport" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>Imports the manifest created by the service developer.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ServiceManifestRef" type="ServiceManifestRefType"/>
						<xs:element name="ConfigOverrides" minOccurs="0">
							<xs:annotation>
								<xs:documentation>Describes the configuration overrides for the imported service manifest.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:sequence>
									<xs:element name="ConfigOverride" type="ConfigOverrideType" minOccurs="0" maxOccurs="unbounded"/>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="Policies" type="ServiceManifestImportPoliciesType" minOccurs="0"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="ServiceTemplates" type="ServiceTemplatesType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Defines the templates for creating the service types from the imported manifest.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="DefaultServices" type="DefaultServicesType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Lists the services that are required for functioning of any instances of this application type.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="Principals" type="SecurityPrincipalsType" minOccurs="0"/>
			<xs:element name="Policies" type="ApplicationPoliciesType" minOccurs="0"/>
			<xs:element name="Diagnostics" type="DiagnosticsType" minOccurs="0"/>
			<xs:element name="Certificates" minOccurs="0">
				<xs:complexType>
					<xs:sequence maxOccurs="unbounded">
						<xs:element name="SecretsCertificate" type="FabricCertificateType" minOccurs="0"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
		<xs:attributeGroup ref="ApplicationManifestAttrGroup"/>
	</xs:complexType>
	<xs:complexType name="ServiceManifestRefType">
		<xs:annotation>
			<xs:documentation>Imports the service manifest by reference. Currently the service manifest file must be present in the build package under the folder named as the name of the service manifest and must be called "ServiceManifest.xml"</xs:documentation>
		</xs:annotation>
		<xs:attributeGroup ref="ServiceManifestIdentifier"/>
	</xs:complexType>
	<xs:complexType name="ServiceManifestImportPoliciesType">
		<xs:annotation>
			<xs:documentation>Describes Policies to be applied on the imported Service Manifest.</xs:documentation>
		</xs:annotation>
		<xs:choice minOccurs="0" maxOccurs="unbounded">
			<xs:element name="RunAsPolicy" type="RunAsPolicyType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Specifies the user a code package will run as.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="SecurityAccessPolicy" type="SecurityAccessPolicyType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Grants permissions to a principal on an environment resource already defined at service level.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="PackageSharingPolicy" type="PackageSharingPolicyType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Indicates if a code, config or data package should be shared.</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:choice>
	</xs:complexType>
	<xs:complexType name="RunAsPolicyType">
		<xs:attribute name="CodePackageRef" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="UserRef" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="EntryPointType" use="optional" default="Main">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Setup"/>
					<xs:enumeration value="Main"/>
					<xs:enumeration value="All"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="SecurityAccessPolicyType">
		<xs:attribute name="ResourceRef" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="PrincipalRef" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="GrantRights" default="Read">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Read"/>
					<xs:enumeration value="Change"/>
					<xs:enumeration value="Full"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="ResourceType" use="optional" default="Endpoint">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Endpoint"/>
					<xs:enumeration value="Certificate"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="PackageSharingPolicyType">
		<xs:attribute name="PackageRef">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Scope" default="None">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="None"/>
					<xs:enumeration value="All"/>
					<xs:enumeration value="Code"/>
					<xs:enumeration value="Config"/>
					<xs:enumeration value="Data"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="ConfigOverrideType">
		<xs:annotation>
			<xs:documentation>Describes the configuration overrides for a particular config package in the imported service manifest.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Settings" type="SettingsOverridesType" minOccurs="0"/>
		</xs:sequence>
		<xs:attribute name="Name" use="required">
			<xs:annotation>
				<xs:documentation>Name of the config package that is defined in the referenced ServiceManifest that is being overridden.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="SettingsOverridesType">
		<xs:annotation>
			<xs:documentation>Describes user defined settings for a Service Component or an Application. It consists of one or more sections of key-value pairs.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Section" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>A user defined named section.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Parameter" minOccurs="0" maxOccurs="unbounded">
							<xs:complexType>
								<xs:attributeGroup ref="NameValuePair"/>
								<xs:attribute name="IsEncrypted" type="xs:boolean" default="false">
									<xs:annotation>
										<xs:documentation>If true, the value of this parameter is encrypted</xs:documentation>
									</xs:annotation>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
					<xs:attribute name="Name" use="required">
						<xs:simpleType>
							<xs:restriction base="xs:string">
								<xs:minLength value="1"/>
							</xs:restriction>
						</xs:simpleType>
					</xs:attribute>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="ServiceTemplatesType">
		<xs:annotation>
			<xs:documentation>Defines the templates to be used while creating services that are part of the applications of this type.</xs:documentation>
		</xs:annotation>
		<xs:choice minOccurs="0" maxOccurs="unbounded">
			<xs:element name="StatelessService" type="StatelessServiceType"/>
			<xs:element name="StatefulService" type="StatefulServiceType"/>
			<xs:element name="StatelessServiceGroup" type="StatelessServiceGroupType"/>
			<xs:element name="StatefulServiceGroup" type="StatefulServiceGroupType"/>
		</xs:choice>
	</xs:complexType>
	<xs:complexType name="DefaultServicesType">
		<xs:annotation>
			<xs:documentation>Lists the services and service groups that are required for functioning of any instances of this application type.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:choice minOccurs="0" maxOccurs="unbounded">
				<xs:element name="Service">
					<xs:complexType>
						<xs:choice minOccurs="0">
							<xs:element name="StatelessService" type="StatelessServiceType"/>
							<xs:element name="StatefulService" type="StatefulServiceType"/>
						</xs:choice>
						<xs:attribute name="Name" type="xs:string" use="required">
							<xs:annotation>
								<xs:documentation>Name of this service relative to this application Name Uri. Fully qualified Name of the service is a combination of Name Uri of the Application and this Name.</xs:documentation>
							</xs:annotation>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
				<xs:element name="ServiceGroup">
					<xs:complexType>
						<xs:choice minOccurs="0">
							<xs:element name="StatelessServiceGroup" type="StatelessServiceGroupType"/>
							<xs:element name="StatefulServiceGroup" type="StatefulServiceGroupType"/>
						</xs:choice>
						<xs:attribute name="Name" type="xs:string" use="required">
							<xs:annotation>
								<xs:documentation>Name of this service relative to this application Name Uri. Fully qualified Name of the service is a combination of Name Uri of the Application and this Name.</xs:documentation>
							</xs:annotation>
						</xs:attribute>
					</xs:complexType>
				</xs:element>
			</xs:choice>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="ServiceType">
		<xs:annotation>
			<xs:documentation>Base type that defines a Windows Fabric service.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:group ref="PartitionDescriptionGroup"/>
			<xs:element name="LoadMetrics" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Load metrics reported by this service.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="LoadMetric" type="LoadMetricType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="PlacementConstraints" type="xs:string" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Constraints for the placement of services that are part of this package.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ServiceCorrelations" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ServiceCorrelation" maxOccurs="unbounded">
							<xs:complexType>
								<xs:attribute name="ServiceName" use="required">
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:minLength value="1"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
								<xs:attribute name="Scheme" use="required">
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:enumeration value="Affinity"/>
											<xs:enumeration value="AlignedAffinity"/>
											<xs:enumeration value="NonAlignedAffinity"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="ServicePlacementPolicies" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ServicePlacementPolicy" maxOccurs="unbounded">
							<xs:complexType>
								<xs:attribute name="DomainName">
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:minLength value="1"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
								<xs:attribute name="Type" use="required">
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:enumeration value="InvalidDomain"/>
											<xs:enumeration value="RequiredDomain"/>
											<xs:enumeration value="PreferredPrimaryDomain"/>
											<xs:enumeration value="RequiredDomainDistribution"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="ServiceTypeName" use="required">
			<xs:annotation>
				<xs:documentation>Name of the ServiceType that needs to be instantiated.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="DefaultMoveCost">
			<xs:annotation>
				<xs:documentation>Specifies default move cost for this service.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Zero"/>
					<xs:enumeration value="Low"/>
					<xs:enumeration value="Medium"/>
					<xs:enumeration value="High"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="StatelessServiceType">
		<xs:annotation>
			<xs:documentation>Defines a stateless service.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="ServiceType">
				<xs:attribute name="InstanceCount" type="xs:string" default="1">
					<xs:annotation>
						<xs:documentation>Number of instances required for this stateless service (positive integer).</xs:documentation>
					</xs:annotation>
				</xs:attribute>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="StatefulServiceType">
		<xs:annotation>
			<xs:documentation>Defines a stateful service.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="ServiceType">
				<xs:attribute name="TargetReplicaSetSize" type="xs:string" default="1">
					<xs:annotation>
						<xs:documentation>Desired replica set size for the partitions of this stateful service (positive integer). This is a target size; a replica set is still functional with less members. The quorum is a majority based quorum.</xs:documentation>
					</xs:annotation>
				</xs:attribute>
				<xs:attribute name="MinReplicaSetSize" type="xs:string" default="1">
					<xs:annotation>
						<xs:documentation>Minimum number of members required in the replica set to allow writes (positive integer less than TargetReplicaSetSize). </xs:documentation>
					</xs:annotation>
				</xs:attribute>
				<xs:attribute name="ReplicaRestartWaitDurationSeconds" type="xs:string" use="optional" default=""/>
				<xs:attribute name="QuorumLossWaitDurationSeconds" type="xs:string" use="optional" default=""/>
				<xs:attribute name="StandByReplicaKeepDurationSeconds" type="xs:string" use="optional" default=""/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="ServiceGroupMemberType">
		<xs:sequence>
			<xs:element name="LoadMetrics" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Load metrics reported by this service.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="LoadMetric" type="LoadMetricType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="ServiceTypeName" use="required">
			<xs:annotation>
				<xs:documentation>Type of the service group member.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Name" use="required">
			<xs:annotation>
				<xs:documentation>Name of the service group member relative to the name of the service group.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="StatelessServiceGroupType">
		<xs:annotation>
			<xs:documentation>Defines a stateless service group.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="StatelessServiceType">
				<xs:sequence>
					<xs:element name="Members" minOccurs="1" maxOccurs="1">
						<xs:annotation>
							<xs:documentation>Member services of this service group</xs:documentation>
						</xs:annotation>
						<xs:complexType>
							<xs:sequence>
								<xs:element name="Member" type="ServiceGroupMemberType" minOccurs="1" maxOccurs="unbounded"/>
							</xs:sequence>
						</xs:complexType>
					</xs:element>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="StatefulServiceGroupType">
		<xs:annotation>
			<xs:documentation>Defines a stateful service group.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="StatefulServiceType">
				<xs:sequence>
					<xs:element name="Members" minOccurs="1" maxOccurs="1">
						<xs:annotation>
							<xs:documentation>Member services of this service group</xs:documentation>
						</xs:annotation>
						<xs:complexType>
							<xs:sequence>
								<xs:element name="Member" type="ServiceGroupMemberType" minOccurs="1" maxOccurs="unbounded"/>
							</xs:sequence>
						</xs:complexType>
					</xs:element>
				</xs:sequence>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:group name="PartitionDescriptionGroup">
		<xs:annotation>
			<xs:documentation>Defines the partitioning scheme for a service.</xs:documentation>
		</xs:annotation>
		<xs:choice>
			<xs:element name="SingletonPartition">
				<xs:annotation>
					<xs:documentation>Declares that this service has only one partition.</xs:documentation>
				</xs:annotation>
				<xs:complexType/>
			</xs:element>
			<xs:element name="UniformInt64Partition">
				<xs:annotation>
					<xs:documentation>Describes a uniform partitioning scheme based on Int64 keys.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:attribute name="PartitionCount" type="xs:string" use="required">
						<xs:annotation>
							<xs:documentation>Total number of partitions (positive integer).</xs:documentation>
						</xs:annotation>
					</xs:attribute>
					<xs:attribute name="LowKey" type="xs:string" use="required">
						<xs:annotation>
							<xs:documentation>Inclusive low range of the partition (long).</xs:documentation>
						</xs:annotation>
					</xs:attribute>
					<xs:attribute name="HighKey" type="xs:string" use="required">
						<xs:annotation>
							<xs:documentation>Inclusive high range of the partition (long).</xs:documentation>
						</xs:annotation>
					</xs:attribute>
				</xs:complexType>
			</xs:element>
			<xs:element name="NamedPartition">
				<xs:annotation>
					<xs:documentation>Describes a named partitioning scheme based on names for each partition.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence maxOccurs="unbounded">
						<xs:element name="Partition">
							<xs:annotation>
								<xs:documentation>Describes a partition by name.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:attribute name="Name" use="required">
									<xs:annotation>
										<xs:documentation>The name of the partition</xs:documentation>
									</xs:annotation>
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:minLength value="1"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:choice>
	</xs:group>
	<xs:complexType name="EnvironmentType">
		<xs:sequence>
			<xs:element name="Principals" type="SecurityPrincipalsType"/>
			<xs:element name="Policies" type="ApplicationPoliciesType"/>
			<xs:element name="Diagnostics" type="DiagnosticsType"/>
		</xs:sequence>
		<xs:attributeGroup ref="VersionedItemAttrGroup"/>
	</xs:complexType>
	<xs:attributeGroup name="AccountCredentialsGroup">
		<xs:attribute name="AccountName" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>Username or Service Account Name (i.e., MyMachine\JohnDoe or John.Doe@department.contoso.com).</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="Password" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>Password for domain user account.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:complexType name="SecurityPrincipalsType">
		<xs:annotation>
			<xs:documentation>Describes the security principles (users, groups) required for this application that are used to secure resources and referenced in the policies.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Groups" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Group" maxOccurs="unbounded">
							<xs:complexType>
								<xs:sequence>
									<xs:element name="NTLMAuthenticationPolicy" minOccurs="0">
										<xs:complexType>
											<xs:attribute name="IsEnabled" type="xs:boolean" use="optional" default="true"/>
										</xs:complexType>
									</xs:element>
									<xs:element name="Membership" minOccurs="0">
										<xs:complexType>
											<xs:choice maxOccurs="unbounded">
												<xs:element name="DomainGroup" minOccurs="0" maxOccurs="unbounded">
													<xs:complexType>
														<xs:attribute name="Name" type="xs:string" use="required"/>
													</xs:complexType>
												</xs:element>
												<xs:element name="SystemGroup" minOccurs="0" maxOccurs="unbounded">
													<xs:complexType>
														<xs:attribute name="Name" type="xs:string" use="required"/>
													</xs:complexType>
												</xs:element>
												<xs:element name="DomainUser" minOccurs="0" maxOccurs="unbounded">
													<xs:complexType>
														<xs:attribute name="Name" type="xs:string" use="required"/>
													</xs:complexType>
												</xs:element>
											</xs:choice>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
								<xs:attribute name="Name" type="xs:string" use="required">
									<xs:annotation>
										<xs:documentation>Name of the local group account. The name will be prefixed with the application id.</xs:documentation>
									</xs:annotation>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="Users" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="User" maxOccurs="unbounded">
							<xs:complexType>
								<xs:sequence>
									<xs:element name="NTLMAuthenticationPolicy" minOccurs="0">
										<xs:complexType>
											<xs:attribute name="IsEnabled" type="xs:boolean" use="optional" default="true"/>
											<xs:attribute name="PasswordSecret" type="xs:string" use="required"/>
											<xs:attribute name="PasswordSecretEncrypted" type="xs:boolean" use="optional" default="false"/>
										</xs:complexType>
									</xs:element>
									<xs:element name="MemberOf" minOccurs="0">
										<xs:complexType>
											<xs:choice maxOccurs="unbounded">
												<xs:element name="SystemGroup" minOccurs="0" maxOccurs="unbounded">
													<xs:complexType>
														<xs:attribute name="Name" type="xs:string" use="required"/>
													</xs:complexType>
												</xs:element>
												<xs:element name="Group" minOccurs="0" maxOccurs="unbounded">
													<xs:complexType>
														<xs:attribute name="NameRef" type="xs:string" use="required"/>
													</xs:complexType>
												</xs:element>
											</xs:choice>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
								<xs:attribute name="Name" type="xs:string" use="required">
									<xs:annotation>
										<xs:documentation>Name of the local user account. The name will be prefixed with the application id.</xs:documentation>
									</xs:annotation>
								</xs:attribute>
								<xs:attribute name="AccountType" use="optional" default="LocalUser">
									<xs:annotation>
										<xs:documentation>Specifies the type of account. </xs:documentation>
									</xs:annotation>
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:enumeration value="LocalUser"/>
											<xs:enumeration value="DomainUser"/>
											<xs:enumeration value="NetworkService"/>
											<xs:enumeration value="LocalService"/>
											<xs:enumeration value="ManagedServiceAccount"/>
											<xs:enumeration value="LocalSystem"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
								<xs:attribute name="LoadUserProfile" type="xs:boolean" use="optional" default="false"/>
								<xs:attribute name="PerformInteractiveLogon" type="xs:boolean" use="optional" default="false"/>
								<xs:attributeGroup ref="AccountCredentialsGroup"/>
								<xs:attribute name="PasswordEncrypted" type="xs:boolean" use="optional">
									<xs:annotation>
										<xs:documentation>Specifies if password is encrypted or plain text.</xs:documentation>
									</xs:annotation>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="ApplicationPoliciesType">
		<xs:annotation>
			<xs:documentation>Describes the Policies to be applied at an application level.</xs:documentation>
		</xs:annotation>
		<xs:all>
			<xs:element name="LogCollectionPolicies" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Specifies whether log collection is enabled. Works only on Azure environment</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence maxOccurs="unbounded">
						<xs:element name="LogCollectionPolicy">
							<xs:complexType>
								<xs:attribute name="Path" type="xs:string" use="optional"/>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="DefaultRunAsPolicy" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Specifies the user a code package will run as.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:attribute name="UserRef" type="xs:string" use="required"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="HealthPolicy" type="ApplicationHealthPolicyType" minOccurs="0"/>
			<xs:element name="SecurityAccessPolicies" minOccurs="0">
				<xs:annotation>
					<xs:documentation>List of security policies applied for resources at application level</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence maxOccurs="unbounded">
						<xs:element name="SecurityAccessPolicy" type="SecurityAccessPolicyType">
							<xs:annotation>
								<xs:documentation>Grants permissions to a principal on an environment resource defined at application level.</xs:documentation>
							</xs:annotation>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:all>
	</xs:complexType>
	<xs:complexType name="ParameterType">
		<xs:attributeGroup ref="NameValuePair"/>
		<xs:attribute name="IsEncrypted" type="xs:string">
			<xs:annotation>
				<xs:documentation>If true, the value of this parameter is encrypted</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="ParametersType">
		<xs:sequence>
			<xs:element name="Parameter" type="ParameterType" minOccurs="1" maxOccurs="unbounded"/>
		</xs:sequence>
	</xs:complexType>
	<xs:attributeGroup name="IsEnabled">
		<xs:attribute name="IsEnabled" type="xs:string">
			<xs:annotation>
				<xs:documentation>Whether or not data transfer to this destination is enabled. By default, it is not enabled.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="RelativeFolderPath">
		<xs:attribute name="RelativeFolderPath" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>Path to the folder, relative to the application log directory.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="Path">
		<xs:attribute name="Path" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>
          Path to the file share. Format:
          file:[]
        </xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="ConnectionString">
		<xs:attribute name="ConnectionString" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>
          Connection string to the Azure storage account. Format:
          xstore:DefaultEndpointsProtocol=https;AccountName=[];AccountKey=[]
        </xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="ContainerName">
		<xs:attribute name="ContainerName" type="xs:string">
			<xs:annotation>
				<xs:documentation>The name of the container in Azure blob storage where data is uploaded.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="UploadIntervalInMinutes">
		<xs:attribute name="UploadIntervalInMinutes" type="xs:string">
			<xs:annotation>
				<xs:documentation>Interval in minutes at which data is uploaded to this destination.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="DataDeletionAgeInDays">
		<xs:attribute name="DataDeletionAgeInDays" type="xs:string">
			<xs:annotation>
				<xs:documentation>Number of days after which old data is deleted from this location.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="LevelFilter">
		<xs:attribute name="LevelFilter" type="xs:string">
			<xs:annotation>
				<xs:documentation>Level at which ETW events should be filtered. All events at the same or lower level than the specified level are included.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:element name="Parameters" type="ParametersType">
		<xs:annotation>
			<xs:documentation>Additional settings specified as name-value pairs</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:complexType name="LocalStoreType">
		<xs:annotation>
			<xs:documentation>Describes a store destination within the node for diagnostic data.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element ref="Parameters" minOccurs="0"/>
		</xs:sequence>
		<xs:attributeGroup ref="IsEnabled"/>
		<xs:attributeGroup ref="RelativeFolderPath"/>
		<xs:attributeGroup ref="DataDeletionAgeInDays"/>
	</xs:complexType>
	<xs:complexType name="FileStoreType">
		<xs:annotation>
			<xs:documentation>Describes a file store destination for diagnostic data. Works only in on-premise environment.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element ref="Parameters" minOccurs="0"/>
		</xs:sequence>
		<xs:attributeGroup ref="IsEnabled"/>
		<xs:attributeGroup ref="Path"/>
		<xs:attributeGroup ref="UploadIntervalInMinutes"/>
		<xs:attributeGroup ref="DataDeletionAgeInDays"/>
		<xs:attribute name="AccountType" type="xs:string">
			<xs:annotation>
				<xs:documentation>Specifies the type of account.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attributeGroup ref="AccountCredentialsGroup"/>
		<xs:attribute name="PasswordEncrypted" type="xs:string">
			<xs:annotation>
				<xs:documentation>Specifies if password is encrypted or plain text.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="AzureStoreBaseType">
		<xs:annotation>
			<xs:documentation>Describes a diagnostic store in an Azure storage account.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element ref="Parameters" minOccurs="0"/>
		</xs:sequence>
		<xs:attributeGroup ref="IsEnabled"/>
		<xs:attributeGroup ref="ConnectionString"/>
		<xs:attribute name="ConnectionStringIsEncrypted" type="xs:string" use="required"/>
		<xs:attributeGroup ref="UploadIntervalInMinutes"/>
		<xs:attributeGroup ref="DataDeletionAgeInDays"/>
	</xs:complexType>
	<xs:complexType name="AzureBlobType">
		<xs:annotation>
			<xs:documentation>Describes an Azure blob store destination for diagnostic data. Works only in Azure environment.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="AzureStoreBaseType">
				<xs:attributeGroup ref="ContainerName"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="LocalStoreETWType">
		<xs:annotation>
			<xs:documentation>Describes a store destination within the node for ETW events.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="LocalStoreType">
				<xs:attributeGroup ref="LevelFilter"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="FileStoreETWType">
		<xs:annotation>
			<xs:documentation>Describes a file store destination for ETW events. Works only in on-premise environment.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="FileStoreType">
				<xs:attributeGroup ref="LevelFilter"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="AzureBlobETWType">
		<xs:annotation>
			<xs:documentation>Describes an Azure blob store destination for ETW events. Works only in Azure environment.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="AzureBlobType">
				<xs:attributeGroup ref="LevelFilter"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="DiagnosticsType">
		<xs:annotation>
			<xs:documentation>Describes the diagnostic settings for applications.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="CrashDumpSource" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Specifies crash dump collection. Crash dumps are collected for executables that host the code packages of all services belonging to the application.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Destinations" minOccurs="0">
							<xs:annotation>
								<xs:documentation>Destinations to which the crash dumps need to be transferred.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:sequence>
									<xs:element name="LocalStore" type="LocalStoreType" minOccurs="0" maxOccurs="unbounded"/>
									<xs:element name="FileStore" type="FileStoreType" minOccurs="0" maxOccurs="unbounded"/>
									<xs:element name="AzureBlob" type="AzureBlobType" minOccurs="0" maxOccurs="unbounded"/>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element ref="Parameters" minOccurs="0" maxOccurs="1"/>
					</xs:sequence>
					<xs:attribute name="IsEnabled" type="xs:string">
						<xs:annotation>
							<xs:documentation>Whether or not crash dump collection is enabled. By default, it is not enabled.</xs:documentation>
						</xs:annotation>
					</xs:attribute>
				</xs:complexType>
			</xs:element>
			<xs:element name="ETWSource" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Specifies ETW trace collection. ETW traces are collected for the providers that are registered by all services belonging to the application.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Destinations" minOccurs="0">
							<xs:annotation>
								<xs:documentation>Destinations to which the crash dumps need to be transferred.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:sequence>
									<xs:element name="LocalStore" type="LocalStoreETWType" minOccurs="0" maxOccurs="unbounded"/>
									<xs:element name="FileStore" type="FileStoreETWType" minOccurs="0" maxOccurs="unbounded"/>
									<xs:element name="AzureBlob" type="AzureBlobETWType" minOccurs="0" maxOccurs="unbounded"/>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element ref="Parameters" minOccurs="0" maxOccurs="1"/>
					</xs:sequence>
					<xs:attribute name="IsEnabled" type="xs:string">
						<xs:annotation>
							<xs:documentation>Whether or not ETW trace collection is enabled. By default, it is not enabled.</xs:documentation>
						</xs:annotation>
					</xs:attribute>
				</xs:complexType>
			</xs:element>
			<xs:element name="FolderSource" minOccurs="0" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>Specifies the collection of the contents of a particular folder on the local node.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Destinations" minOccurs="0">
							<xs:annotation>
								<xs:documentation>Destinations to which the folder contents need to be transferred.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:sequence>
									<xs:element name="LocalStore" type="LocalStoreType" minOccurs="0" maxOccurs="unbounded"/>
									<xs:element name="FileStore" type="FileStoreType" minOccurs="0" maxOccurs="unbounded"/>
									<xs:element name="AzureBlob" type="AzureBlobType" minOccurs="0" maxOccurs="unbounded"/>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element ref="Parameters" minOccurs="0" maxOccurs="1"/>
					</xs:sequence>
					<xs:attribute name="IsEnabled" type="xs:string">
						<xs:annotation>
							<xs:documentation>Whether or not collection of the contents of this folder is enabled. By default, it is not enabled.</xs:documentation>
						</xs:annotation>
					</xs:attribute>
					<xs:attributeGroup ref="RelativeFolderPath"/>
					<xs:attributeGroup ref="DataDeletionAgeInDays"/>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<!-- ****** Types used by Service Manifest *****-->
	<xs:complexType name="ServiceManifestType">
		<xs:annotation>
			<xs:documentation>Manifest of a packaged Windows Fabric service. A Service Manifest is a unit of deployment and activation. It consists of independently upgradable units of code, configuration and data.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Description" type="xs:string" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Text describing this service.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ServiceTypes" type="ServiceAndServiceGroupTypesType">
				<xs:annotation>
					<xs:documentation>Defines the type of services supported by components of this manifest.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="CodePackage" type="CodePackageType" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>Describes the code packages that implements above defined service types. Upon needing to place one of the service types of this service Windows Fabric will activate all of the code packages defined here.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ConfigPackage" type="ConfigPackageType" minOccurs="0" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>Describes the configuration of a ServiceComponent or an Application. It consists of user defined settings (sections of key-value pairs) and environment needed for the service. The settings must be stored in Settings.xml file and environment must be stored in the Environment.xml file in this package's folder.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="DataPackage" type="DataPackageType" minOccurs="0" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>Defines data package used by the code.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="Resources" type="ResourcesType" minOccurs="0"/>
			<xs:element name="Diagnostics" type="ServiceDiagnosticsType" minOccurs="0"/>
		</xs:sequence>
		<xs:attributeGroup ref="VersionedName"/>
	</xs:complexType>
	<xs:complexType name="ServiceAndServiceGroupTypesType">
		<xs:choice maxOccurs="unbounded">
			<xs:element name="StatefulServiceType" type="StatefulServiceTypeType">
				<xs:annotation>
					<xs:documentation>Describes a stateful ServiceType.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="StatelessServiceType" type="StatelessServiceTypeType">
				<xs:annotation>
					<xs:documentation>Describes a stateless ServiceType.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="StatefulServiceGroupType" type="StatefulServiceGroupTypeType">
				<xs:annotation>
					<xs:documentation>Describes a stateful ServiceGroupType.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="StatelessServiceGroupType" type="StatelessServiceGroupTypeType">
				<xs:annotation>
					<xs:documentation>Describes a stateless ServiceGroupType.</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:choice>
	</xs:complexType>
	<xs:complexType name="ServiceTypesType">
		<xs:choice maxOccurs="unbounded">
			<xs:element name="StatefulServiceType" type="StatefulServiceTypeType">
				<xs:annotation>
					<xs:documentation>Describes a stateful ServiceType.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="StatelessServiceType" type="StatelessServiceTypeType">
				<xs:annotation>
					<xs:documentation>Describes a stateless ServiceType.</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:choice>
	</xs:complexType>
	<xs:complexType name="ServiceTypeType">
		<xs:annotation>
			<xs:documentation>Base type that describes a stateful or a stateless ServiceType.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="LoadMetrics" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Load metrics reported by this service.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="LoadMetric" type="LoadMetricType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="PlacementConstraints" type="xs:string" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Constraints for the placement of services that are part of this package.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ServicePlacementPolicies" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ServicePlacementPolicy" maxOccurs="unbounded">
							<xs:complexType>
								<xs:attribute name="DomainName">
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:minLength value="1"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
								<xs:attribute name="Type" use="required">
									<xs:simpleType>
										<xs:restriction base="xs:string">
											<xs:enumeration value="InvalidDomain"/>
											<xs:enumeration value="RequiredDomain"/>
											<xs:enumeration value="PreferredPrimaryDomain"/>
											<xs:enumeration value="RequiredDomainDistribution"/>
										</xs:restriction>
									</xs:simpleType>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element ref="Extensions" minOccurs="0"/>
		</xs:sequence>
		<xs:attribute name="ServiceTypeName" use="required">
			<xs:annotation>
				<xs:documentation>User defined type identifier for a Windows Fabric Service. .e.g QueueType, CalculatorType</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="ServiceGroupTypeType">
		<xs:annotation>
			<xs:documentation>Base type that describes a stateful or a stateless ServiceGroupType.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="LoadMetrics" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Load metrics reported by this service.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="LoadMetric" type="LoadMetricType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="PlacementConstraints" type="xs:string" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Constraints for the placement of services that are part of this package.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ServiceGroupMembers" minOccurs="0" maxOccurs="1">
				<xs:annotation>
					<xs:documentation>Member types of this service group type.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element ref="ServiceGroupTypeMember" minOccurs="1" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element ref="Extensions" minOccurs="0"/>
		</xs:sequence>
		<xs:attribute name="ServiceGroupTypeName" use="required">
			<xs:annotation>
				<xs:documentation>User defined type identifier for a Windows Fabric ServiceGgroup, .e.g ActorQueueSGType</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="UseImplicitFactory" type="xs:boolean" use="optional">
			<xs:annotation>
				<xs:documentation>Specifies whether the service group instance is created by the implicit factory. If false (default), one of the code packages must register the service group factory</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:element name="ServiceGroupTypeMember">
		<xs:annotation>
			<xs:documentation>Describes the member type of the service group.</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element name="LoadMetrics" minOccurs="0">
					<xs:annotation>
						<xs:documentation>Load metrics reported by this service.</xs:documentation>
					</xs:annotation>
					<xs:complexType>
						<xs:sequence>
							<xs:element name="LoadMetric" type="LoadMetricType" maxOccurs="unbounded"/>
						</xs:sequence>
					</xs:complexType>
				</xs:element>
			</xs:sequence>
			<xs:attribute name="ServiceTypeName" use="required">
				<xs:annotation>
					<xs:documentation>User defined type identifier for a Windows Fabric ServiceGroup Member, .e.g Actor</xs:documentation>
				</xs:annotation>
				<xs:simpleType>
					<xs:restriction base="xs:string">
						<xs:minLength value="1"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
		</xs:complexType>
	</xs:element>
	<xs:complexType name="ExtensionsType">
		<xs:annotation>
			<xs:documentation>Describes extensions that can be applied to other elements.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Extension" minOccurs="0" maxOccurs="unbounded">
				<xs:complexType>
					<xs:sequence>
						<xs:any namespace="##other" processContents="lax"/>
					</xs:sequence>
					<xs:attribute name="Name" use="required">
						<xs:simpleType>
							<xs:restriction base="xs:string">
								<xs:minLength value="1"/>
							</xs:restriction>
						</xs:simpleType>
					</xs:attribute>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:element name="Extensions" type="ExtensionsType">
		<xs:annotation>
			<xs:documentation>Describes extensions that can be applied to other elements.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:complexType name="ServiceTypeExtensionPolicyPropertiesType">
		<xs:annotation>
			<xs:documentation>Defines Properties for the Persistence and Eviction policies.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Property" minOccurs="0" maxOccurs="unbounded">
				<xs:complexType>
					<xs:attribute name="Name" type="xs:string" use="required"/>
					<xs:attribute name="Value" type="xs:string" use="required"/>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:element name="PersistencePolicy">
		<xs:annotation>
			<xs:documentation>Persistence Policy extension for the Service Type</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element name="Properties" type="ServiceTypeExtensionPolicyPropertiesType" minOccurs="0"/>
			</xs:sequence>
			<xs:attribute name="Name" type="xs:string" use="required"/>
			<xs:attribute name="Mode" use="required">
				<xs:simpleType>
					<xs:restriction base="xs:string">
						<xs:enumeration value="Synchronous"/>
						<xs:enumeration value="Asynchronous"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:attribute>
			<xs:attribute name="WriteBehind" type="xs:string" use="required"/>
			<xs:attribute name="Provider" type="xs:string" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:element name="EvictionPolicy">
		<xs:annotation>
			<xs:documentation>Eviction Policy extension for the Service Type.</xs:documentation>
		</xs:annotation>
		<xs:complexType>
			<xs:sequence>
				<xs:element name="Properties" type="ServiceTypeExtensionPolicyPropertiesType" minOccurs="0"/>
			</xs:sequence>
			<xs:attribute name="Name" type="xs:string" use="required"/>
			<xs:attribute name="Provider" type="xs:string" use="required"/>
		</xs:complexType>
	</xs:element>
	<xs:complexType name="StatefulServiceTypeType">
		<xs:annotation>
			<xs:documentation>Describes a stateful ServiceType.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="ServiceTypeType">
				<xs:attribute name="HasPersistedState" type="xs:boolean" default="false"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="StatelessServiceTypeType">
		<xs:annotation>
			<xs:documentation>Describes a stateless ServiceType.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="ServiceTypeType">
				<xs:attribute name="UseImplicitHost" type="xs:boolean" default="false">
					<xs:annotation>
						<xs:documentation>Specifies if the service type should be implemented implicitly by Windows Fabric. Implicitly implemented ServiceTypes can be used for activating legacy applications that do not implement Windows Fabric service interfaces. The service type will be registered and services will be hosted by Windows Fabric provided host.</xs:documentation>
					</xs:annotation>
				</xs:attribute>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="StatefulServiceGroupTypeType">
		<xs:annotation>
			<xs:documentation>Describes a stateful ServiceGroupType.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="ServiceGroupTypeType">
				<xs:attribute name="HasPersistedState" type="xs:boolean" default="false"/>
			</xs:extension>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="StatelessServiceGroupTypeType">
		<xs:annotation>
			<xs:documentation>Describes a stateless ServiceGroupType.</xs:documentation>
		</xs:annotation>
		<xs:complexContent>
			<xs:extension base="ServiceGroupTypeType"/>
		</xs:complexContent>
	</xs:complexType>
	<xs:complexType name="CodePackageType">
		<xs:annotation>
			<xs:documentation>Describes a code package in a ServiceManifest.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="SetupEntryPoint" minOccurs="0">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ExeHost" type="ExeHostEntryPointType"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
			<xs:element name="EntryPoint" type="EntryPointDescriptionType" minOccurs="1"/>
		</xs:sequence>
		<xs:attributeGroup ref="VersionedName"/>
		<xs:attribute name="IsShared" type="xs:boolean" default="false">
			<xs:annotation>
				<xs:documentation>Indicates if the contents of this Code Package are shared by other Code Packages. If true, on an upgrade of this Code Package, all Code Packages will be restarted. This attribute is currently not supported and it's value will be ignored.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="ConfigPackageType">
		<xs:annotation>
			<xs:documentation>Describes a configuration package in a ServiceManifest.</xs:documentation>
		</xs:annotation>
		<xs:attributeGroup ref="VersionedName"/>
	</xs:complexType>
	<xs:complexType name="DataPackageType">
		<xs:annotation>
			<xs:documentation>Describes a data package in a ServiceManifest.</xs:documentation>
		</xs:annotation>
		<xs:attributeGroup ref="VersionedName"/>
	</xs:complexType>
	<xs:complexType name="ResourcesType">
		<xs:annotation>
			<xs:documentation>Describes the resources required by components of this Service Manifest.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Certificates" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Placeholder for certificate schema.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="Endpoints" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Defines endpoints the services need to function properly.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Endpoint" type="EndpointType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="ServiceDiagnosticsType">
		<xs:annotation>
			<xs:documentation>Describes the diagnostic settings for the components of this Service Manifest.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="ETW" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Describes the ETW settings for the components of this Service Manifest.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ProviderGuids" minOccurs="0">
							<xs:annotation>
								<xs:documentation>Lists the ETW provider GUIDs for the components of this Service Manifest.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:sequence>
									<xs:element name="ProviderGuid" minOccurs="0" maxOccurs="unbounded">
										<xs:complexType>
											<xs:attribute name="Value" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:string">
														<xs:pattern value="[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="ManifestDataPackages" minOccurs="0">
							<xs:annotation>
								<xs:documentation>Lists the data packages containing ETW manifests for the components of this Serice Manifest.</xs:documentation>
							</xs:annotation>
							<xs:complexType>
								<xs:sequence>
									<xs:element name="ManifestDataPackage" type="DataPackageType" minOccurs="0" maxOccurs="unbounded"/>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="DebugParametersType">
		<xs:annotation>
			<xs:documentation>Specifies information on debugger to attach when activating codepackage</xs:documentation>
		</xs:annotation>
		<xs:attribute name="ProgramExePath" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Arguments" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="EntryPointType" use="optional" default="Main">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Setup"/>
					<xs:enumeration value="Main"/>
					<xs:enumeration value="All"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="EnvironmentBlock">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="UnmanagedDllType">
		<xs:simpleContent>
			<xs:extension base="xs:string"/>
		</xs:simpleContent>
	</xs:complexType>
	<xs:complexType name="ManagedAssemblyType">
		<xs:simpleContent>
			<xs:extension base="xs:string"/>
		</xs:simpleContent>
	</xs:complexType>
	<xs:complexType name="DllHostEntryPointType">
		<xs:sequence>
			<xs:choice minOccurs="0" maxOccurs="unbounded">
				<xs:element name="UnmanagedDll" type="UnmanagedDllType"/>
				<xs:element name="ManagedAssembly" type="ManagedAssemblyType"/>
			</xs:choice>
		</xs:sequence>
		<xs:attribute name="IsolationPolicy" use="optional" default="DedicatedProcess">
			<xs:annotation>
				<xs:documentation>Defines the isolation policy for the Unmanaged DLLs and Managed Assemblies loaded in the DllHost. </xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="SharedDomain"/>
					<xs:enumeration value="DedicatedDomain"/>
					<xs:enumeration value="DedicatedProcess"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="ExeHostEntryPointType">
		<xs:sequence>
			<xs:element name="Program" type="xs:string"/>
			<xs:element name="Arguments" type="xs:string" minOccurs="0"/>
			<xs:element name="WorkingFolder" default="Work" minOccurs="0">
				<xs:simpleType>
					<xs:restriction base="xs:string">
						<xs:enumeration value="Work"/>
						<xs:enumeration value="CodePackage"/>
						<xs:enumeration value="CodeBase"/>
					</xs:restriction>
				</xs:simpleType>
			</xs:element>
			<xs:element name="ConsoleRedirection" minOccurs="0">
				<xs:complexType>
					<xs:attribute name="FileRetentionCount" default="2">
						<xs:simpleType>
							<xs:restriction base="xs:int">
								<xs:minInclusive value="1"/>
							</xs:restriction>
						</xs:simpleType>
					</xs:attribute>
					<xs:attribute name="FileMaxSizeInKb" default="20480">
						<xs:simpleType>
							<xs:restriction base="xs:int">
								<xs:minInclusive value="128"/>
							</xs:restriction>
						</xs:simpleType>
					</xs:attribute>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="EntryPointDescriptionType">
		<xs:sequence>
			<xs:choice>
				<xs:element name="ExeHost">
					<xs:complexType>
						<xs:complexContent>
							<xs:extension base="ExeHostEntryPointType">
								<xs:sequence>
									<xs:element name="RunFrequency" minOccurs="0">
										<xs:complexType>
											<xs:attribute name="IntervalInSeconds" use="required">
												<xs:simpleType>
													<xs:restriction base="xs:int">
														<xs:minInclusive value="0"/>
														<xs:maxInclusive value="2147483647"/>
													</xs:restriction>
												</xs:simpleType>
											</xs:attribute>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
							</xs:extension>
						</xs:complexContent>
					</xs:complexType>
				</xs:element>
				<xs:element name="DllHost" type="DllHostEntryPointType"/>
			</xs:choice>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="EndpointType">
		<xs:attribute name="Name" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Protocol" use="optional" default="tcp">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="http"/>
					<xs:enumeration value="https"/>
					<xs:enumeration value="tcp"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Type" use="optional" default="Internal">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Input"/>
					<xs:enumeration value="Internal"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="CertificateRef"/>
		<xs:attribute name="Port">
			<xs:annotation>
				<xs:documentation>The port will be replaced with a port determined by Windows Fabric after registering with Http.sys or BFE.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:int">
					<xs:minInclusive value="0"/>
					<xs:maxInclusive value="65535"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="LoadMetricType">
		<xs:attribute name="Name" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="DefaultLoad" type="xs:unsignedInt" use="optional" default="0"/>
		<xs:attribute name="PrimaryDefaultLoad" type="xs:unsignedInt" use="optional" default="0"/>
		<xs:attribute name="SecondaryDefaultLoad" type="xs:unsignedInt" use="optional" default="0"/>
		<xs:attribute name="Weight">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:enumeration value="Zero"/>
					<xs:enumeration value="Low"/>
					<xs:enumeration value="Medium"/>
					<xs:enumeration value="High"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="ApplicationHealthPolicyType">
		<xs:annotation>
			<xs:documentation>Describes the policy for evaluating health events reported on various application related entities.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="DefaultServiceTypeHealthPolicy" type="ServiceTypeHealthPolicyType" minOccurs="0"/>
			<xs:element name="ServiceTypeHealthPolicy" minOccurs="0" maxOccurs="unbounded">
				<xs:complexType>
					<xs:complexContent>
						<xs:extension base="ServiceTypeHealthPolicyType">
							<xs:attribute name="ServiceTypeName" type="xs:string" use="required"/>
						</xs:extension>
					</xs:complexContent>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="ConsiderWarningAsError" type="xs:string" use="optional" default="false"/>
		<xs:attribute name="MaxPercentUnhealthyDeployedApplications" type="xs:string" use="optional" default="0"/>
	</xs:complexType>
	<xs:complexType name="ServiceTypeHealthPolicyType">
		<xs:annotation>
			<xs:documentation>Describes the policy for evaluating health events reported on services, partitions and replicas of a particular ServiceType.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="MaxPercentUnhealthyServices" type="xs:string" use="optional" default="0"/>
		<xs:attribute name="MaxPercentUnhealthyPartitionsPerService" type="xs:string" use="optional" default="0"/>
		<xs:attribute name="MaxPercentUnhealthyReplicasPerPartition" type="xs:string" use="optional" default="0"/>
	</xs:complexType>
	<!-- ****** Types used by Settings *****-->
	<xs:complexType name="SettingsType">
		<xs:annotation>
			<xs:documentation>Describes user defined settings for a ServiceComponent or an Application. It consists of one or more sections of key-value pairs.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Section" minOccurs="0" maxOccurs="unbounded">
				<xs:annotation>
					<xs:documentation>A user defined named section.</xs:documentation>
				</xs:annotation>
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Parameter" minOccurs="0" maxOccurs="unbounded">
							<xs:complexType>
								<xs:attribute name="Name" type="xs:string" use="required"/>
								<xs:attribute name="Value" type="xs:string" use="required"/>
								<xs:attribute name="MustOverride" type="xs:boolean" default="false">
									<xs:annotation>
										<xs:documentation>If true, the value of this parameter must be overridden by higher level configuration.</xs:documentation>
									</xs:annotation>
								</xs:attribute>
								<xs:attribute name="IsEncrypted" type="xs:boolean" default="false">
									<xs:annotation>
										<xs:documentation>If true, the value of this parameter is encrypted.</xs:documentation>
									</xs:annotation>
								</xs:attribute>
							</xs:complexType>
						</xs:element>
					</xs:sequence>
					<xs:attribute name="Name" type="xs:string" use="required"/>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<!-- ****** Other Global Types *****-->
	<xs:simpleType name="FabricUri">
		<xs:annotation>
			<xs:documentation>A Uri that is used as a stable identifier of services by Windows Fabric Naming system. </xs:documentation>
		</xs:annotation>
		<xs:restriction base="xs:anyURI"/>
	</xs:simpleType>
	<xs:attributeGroup name="VersionedName">
		<xs:annotation>
			<xs:documentation>Attribute group that includes a Name and a Version.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="Name" use="required">
			<xs:annotation>
				<xs:documentation>Name of the versioned item.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Version" use="required">
			<xs:annotation>
				<xs:documentation>Version of the versioned item.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="ServiceManifestIdentifier">
		<xs:annotation>
			<xs:documentation>Identifies a service manifest.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="ServiceManifestName" use="required">
			<xs:annotation>
				<xs:documentation>Name if the Service Manifest being referenced.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="ServiceManifestVersion" use="required">
			<xs:annotation>
				<xs:documentation>Version of the ServiceManifest being referenced.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="ApplicationManifestAttrGroup">
		<xs:annotation>
			<xs:documentation>Attribute group for application manifest.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="ApplicationTypeName" use="required">
			<xs:annotation>
				<xs:documentation>Type Identifier for this application.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="ApplicationTypeVersion" use="required">
			<xs:annotation>
				<xs:documentation>The version of this application type.</xs:documentation>
			</xs:annotation>
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="NameValuePair">
		<xs:annotation>
			<xs:documentation>Name and Value defined as an attribute.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="Name" use="required">
			<xs:simpleType>
				<xs:restriction base="xs:string">
					<xs:minLength value="1"/>
				</xs:restriction>
			</xs:simpleType>
		</xs:attribute>
		<xs:attribute name="Value" type="xs:string" use="required"/>
	</xs:attributeGroup>
	<!--*********** Following are the internal types that are used for the digested form of application ********************-->
	<xs:element name="ApplicationInstance" type="ApplicationInstanceType">
		<xs:annotation>
			<xs:documentation>Describes an instance of a Windows Fabric application.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:complexType name="ApplicationInstanceType">
		<xs:annotation>
			<xs:documentation>Describes an instance of a Windows Fabric application.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="ApplicationPackageRef">
				<xs:complexType>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="ServicePackageRef" maxOccurs="unbounded">
				<xs:complexType>
					<xs:attribute name="Name" use="required"/>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="ServiceTemplates" type="ServiceTemplatesType"/>
			<xs:element name="DefaultServices" type="DefaultServicesType"/>
		</xs:sequence>
		<xs:attribute name="Version" type="xs:int" use="required">
			<xs:annotation>
				<xs:documentation>The version of the ApplicationInstance document.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attributeGroup ref="ApplicationInstanceAttrGroup"/>
		<xs:attributeGroup ref="ApplicationManifestAttrGroup"/>
	</xs:complexType>
	<xs:element name="ApplicationPackage" type="ApplicationPackageType">
		<xs:annotation>
			<xs:documentation>ApplicationPackage represents the versioned Application information required by the node.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:complexType name="ApplicationPackageType">
		<xs:annotation>
			<xs:documentation>ApplicationPackage represents the versioned Application information required by the node.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="DigestedEnvironment" type="EnvironmentType"/>
			<xs:element name="DigestedCertificates">
				<xs:complexType>
					<xs:sequence maxOccurs="unbounded">
						<xs:element name="SecretsCertificate" type="FabricCertificateType" minOccurs="0"/>
					</xs:sequence>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="ApplicationTypeName" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>Type identifier for this application.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attributeGroup ref="VersionedItemAttrGroup"/>
		<xs:attributeGroup ref="ApplicationInstanceAttrGroup"/>
		<xs:attribute name="ContentChecksum" type="xs:string">
			<xs:annotation>
				<xs:documentation>Checksum value of this ApplicationPackage content</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:element name="ServicePackage" type="ServicePackageType">
		<xs:annotation>
			<xs:documentation>ServicePackage represents a versioned unit of deployment and activation. The version of the ServicePackage is determined based on the manifest version and the version of the overrides.</xs:documentation>
		</xs:annotation>
	</xs:element>
	<xs:complexType name="ServicePackageType">
		<xs:annotation>
			<xs:documentation>ServicePackage represents a versioned unit of deployment and activation. The version of the ServicePackage is determined based on the manifest version and the version of the overrides.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Description" type="xs:string" minOccurs="0"/>
			<xs:element name="DigestedServiceTypes">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ServiceTypes" type="ServiceTypesType"/>
					</xs:sequence>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="DigestedCodePackage" maxOccurs="unbounded">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="CodePackage" type="CodePackageType"/>
						<xs:element name="RunAsPolicy" type="RunAsPolicyType" minOccurs="0" maxOccurs="2"/>
						<xs:element name="DebugParameters" type="DebugParametersType" minOccurs="0" maxOccurs="1"/>
					</xs:sequence>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
					<xs:attribute name="ContentChecksum" type="xs:string"/>
					<xs:attribute name="IsShared" type="xs:boolean"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="DigestedConfigPackage" minOccurs="0" maxOccurs="unbounded">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="ConfigPackage" type="ConfigPackageType"/>
						<xs:element name="ConfigOverride" type="ConfigOverrideType" minOccurs="0"/>
					</xs:sequence>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
					<xs:attribute name="ContentChecksum" type="xs:string"/>
					<xs:attribute name="IsShared" type="xs:boolean"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="DigestedDataPackage" minOccurs="0" maxOccurs="unbounded">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="DataPackage" type="DataPackageType"/>
					</xs:sequence>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
					<xs:attribute name="ContentChecksum" type="xs:string"/>
					<xs:attribute name="IsShared" type="xs:boolean"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="DigestedResources" minOccurs="1">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="DigestedEndpoints" minOccurs="0">
							<xs:complexType>
								<xs:sequence>
									<xs:element name="DigestedEndpoint" minOccurs="0" maxOccurs="unbounded">
										<xs:complexType>
											<xs:sequence>
												<xs:element name="Endpoint" type="EndpointType"/>
												<xs:element name="SecurityAccessPolicy" type="SecurityAccessPolicyType" minOccurs="0"/>
											</xs:sequence>
										</xs:complexType>
									</xs:element>
								</xs:sequence>
							</xs:complexType>
						</xs:element>
						<xs:element name="DigestedCertificates" minOccurs="0"/>
					</xs:sequence>
					<xs:attributeGroup ref="VersionedItemAttrGroup"/>
				</xs:complexType>
			</xs:element>
			<xs:element name="Diagnostics" type="ServiceDiagnosticsType"/>
		</xs:sequence>
		<xs:attribute name="Name" type="xs:string" use="required"/>
		<xs:attribute name="ManifestVersion" type="xs:string" use="required"/>
		<xs:attributeGroup ref="VersionedItemAttrGroup"/>
		<xs:attribute name="ManifestChecksum" type="xs:string">
			<xs:annotation>
				<xs:documentation>Checksum value of the ServiceManifest file</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="ContentChecksum" type="xs:string">
			<xs:annotation>
				<xs:documentation>Checksum value of this ServicePackage content</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:attributeGroup name="ConfigOverridesIdentifier">
		<xs:annotation>
			<xs:documentation>Identifies configuration overrides for a service package.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="ServicePackageName" type="xs:string" use="required"/>
		<xs:attribute name="RolloutVersion" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>ID of the rollout in which changes were made to the overrides element.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="ApplicationInstanceAttrGroup">
		<xs:annotation>
			<xs:documentation>Attribute group for application instance.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="NameUri" type="FabricUri" use="required">
			<xs:annotation>
				<xs:documentation>Fully qualified name of the application.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="ApplicationId" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>Id of this application.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:attributeGroup>
	<xs:attributeGroup name="VersionedItemAttrGroup">
		<xs:annotation>
			<xs:documentation>Attribute group for versioning sections in ApplicationInstance and ServicePackage documents.</xs:documentation>
		</xs:annotation>
		<xs:attribute name="RolloutVersion" type="xs:string" use="required"/>
	</xs:attributeGroup>
	<xs:complexType name="CertificatesType">
		<xs:all>
			<xs:element name="ClusterCertificate" type="FabricCertificateType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>The certificate used to secure the intra cluster communication.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ServerCertificate" type="FabricCertificateType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>The certificate used to secure the intra cluster communication.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="ClientCertificate" type="FabricCertificateType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>The default admin role client certificate used to secure client server communication.</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="UserRoleClientCertificate" type="FabricCertificateType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>The default user role client certificate used to secure client server communication.</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:all>
	</xs:complexType>
	<xs:complexType name="AzureRoleType">
		<xs:attribute name="RoleName" type="xs:string" use="required"/>
		<xs:attribute name="NodeTypeRef" type="xs:string" use="required"/>
		<xs:attribute name="SeedNodeCount" type="xs:int" use="optional" default="0"/>
	</xs:complexType>
	<xs:complexType name="VMMTierType">
		<xs:attribute name="TierName" type="xs:string" use="required"/>
		<xs:attribute name="NodeTypeRef" type="xs:string" use="required"/>
		<xs:attribute name="SeedNodeCount" type="xs:int" use="optional" default="0"/>
	</xs:complexType>
	<xs:complexType name="BlackbirdRoleType">
		<xs:attribute name="EnvironmentName" type="xs:string" use="required"/>
		<xs:attribute name="RoleName" type="xs:string" use="required"/>
		<xs:attribute name="NodeTypeRef" type="xs:string" use="required"/>
		<xs:attribute name="IsSeedNode" type="xs:boolean" use="optional" default="0"/>
	</xs:complexType>
	<xs:complexType name="InfrastructureInformationType">
		<xs:annotation>
			<xs:documentation>Contains the infrastructure information for this Windows Fabric cluster.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="NodeList">
				<xs:complexType>
					<xs:sequence>
						<xs:element name="Node" type="InfrastructureNodeType" maxOccurs="unbounded"/>
					</xs:sequence>
				</xs:complexType>
			</xs:element>
		</xs:sequence>
	</xs:complexType>
	<xs:complexType name="InfrastructureNodeType">
		<xs:annotation>
			<xs:documentation>Describes a Infrastructure information needed.</xs:documentation>
		</xs:annotation>
		<xs:sequence>
			<xs:element name="Endpoints" type="FabricEndpointsType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Describe the endpoints associated with this node type</xs:documentation>
				</xs:annotation>
			</xs:element>
			<xs:element name="Certificates" type="CertificatesType" minOccurs="0">
				<xs:annotation>
					<xs:documentation>Describe the certificates associated with this node type</xs:documentation>
				</xs:annotation>
			</xs:element>
		</xs:sequence>
		<xs:attribute name="NodeName" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>The name of the node instance.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="IPAddressOrFQDN" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>The IP address or the FQDN of the machine on which to place this node.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="RoleOrTierName" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>Name of the role which links to node type ref which is defined in the NodeTypes section.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="NodeTypeRef" type="xs:string" use="required">
			<xs:annotation>
				<xs:documentation>Name of the node type which is defined in the NodeTypes section.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="IsSeedNode" type="xs:boolean" use="optional" default="false">
			<xs:annotation>
				<xs:documentation>Indicates whether the node is a seed node.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="FaultDomain" type="xs:anyURI" use="optional">
			<xs:annotation>
				<xs:documentation> The fault domain of this node. </xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="UpgradeDomain" type="xs:anyURI" use="optional">
			<xs:annotation>
				<xs:documentation>The upgrade domain of this node. </xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="TargetInformationType">
		<xs:all>
			<xs:element name="CurrentInstallation" type="WindowsFabricDeploymentInformation" minOccurs="0"/>
			<xs:element name="TargetInstallation" type="WindowsFabricDeploymentInformation" minOccurs="1"/>
		</xs:all>
	</xs:complexType>
	<xs:complexType name="WindowsFabricDeploymentInformation">
		<xs:attribute name="InstanceId" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>This is the target instance of the node.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="MSILocation" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>This is the full path to the MSI location.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="ClusterManifestLocation" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>This is the full path to the Cluster Manifest Location.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="InfrastructureManifestLocation" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>This location of the infrastructure manifest that is internally generated.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="TargetVersion" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>This is the Target Version of the deployment.</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="NodeName" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>This is the name of the Node to which the Fabric Upgrade is to happe</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="UpgradeEntryPointExe" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>Name of the exe used by the upgrade service to upgrade </xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="UpgradeEntryPointExeParameters" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>Parameters to the Setup Entry point exe</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="UndoUpgradeEntryPointExe" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>Name of the exe used by the upgrade service to undo the upgrade</xs:documentation>
			</xs:annotation>
		</xs:attribute>
		<xs:attribute name="UndoUpgradeEntryPointExeParameters" type="xs:string" use="optional">
			<xs:annotation>
				<xs:documentation>Parameters to the Setup Entry point exe</xs:documentation>
			</xs:annotation>
		</xs:attribute>
	</xs:complexType>
	<xs:complexType name="PaaSRoleType">
		<xs:attribute name="RoleName" type="xs:string" use="required"/>
		<xs:attribute name="NodeTypeRef" type="xs:string" use="required"/>
		<xs:attribute name="RoleNodeCount" type="xs:int" use="required"/>
	</xs:complexType>
	<xs:complexType name="PaaSVoteType">
		<xs:attribute name="NodeName" use="required"/>
		<xs:attribute name="IPAddressOrFQDN" use="required"/>
		<xs:attribute name="Port" type="xs:int" use="required"/>
	</xs:complexType>
</xs:schema>
